<%- include("../layout/adminLayout/header.ejs") %>
<main id="main" class="main">
  <div class="container">
    <div class="table-responsive ">
      <table class="table table-dark table-striped text-center">
        <thead>
          <tr>
            <th>Sl.no</th>
            <th>IMAGE</th>
            <th>Category</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% let k = 1 %>
          <% for (let i = 0; i < cat.length; i++) { %>
            <tr>
              <td class="align-middle"><%= k %></td>
              <td class="align-middle"> <img src=" <%= cat[i].images %>" height="75" width="50"></td>
              <td class="align-middle"><%= cat[i].name %></td>
              <td class="align-middle">
                <a href="/admin/editCategory?id=<%= cat[i]._id %>" class="btn btn-warning">Edit category</a>
              </td>
            </tr>
            <% k++ %>
          <% } %>
        </tbody>
      </table>
    </div>
    <div class="col-12 pb-1">
      <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
          <% if (page > 1) { %>
            <li class="page-item">
              <a class="page-link" href="/admin/category?page=<%= page - 1 %>">&laquo; Previous</a>
            </li>
          <% } %>
          <% for (let i = 1; i <= totalPages; i++) { %>
            <% if (i === page) { %>
              <li class="page-item active">
                <a class="page-link" href="/admin/category?page=<%= i %>"><%= i %></a>
              </li>
            <% } else { %>
              <li class="page-item">
                <a class="page-link" href="/admin/category?page=<%= i %>"><%= i %></a>
              </li>
            <% } %>
          <% } %>
          <% if (page < totalPages) { %>
            <li class="page-item">
              <a class="page-link" href="/admin/category?page=<%= page + 1 %>">Next &raquo;</a>
            </li>
          <% } %>
        </ul>
      </nav>
    </div>
  </div>
</main>
<%- include("../layout/adminLayout/footer.ejs") %>
